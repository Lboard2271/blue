<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Song Lyrics Sync</title>
    <style>
        body {
            font-family: Consolas, monospace;
            background-color: black;
            color: lime;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #lyrics {
            font-size: 24px;
            text-align: left;
            white-space: pre-line;
            overflow-y: auto;
            max-height: 80vh;
            width: 90%;
            line-height: 1.5;
        }

        .highlight {
            font-weight: bold;
            color: white;
        }

        audio {
            display: none;
        }

        button {
            background-color: lime;
            color: black;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
        }

        button:hover {
            background-color: lightgreen;
        }

        .heart {
            font-size: 28px;
            color: red;
            white-space: pre-wrap;  /* Allow the heart to wrap correctly */
            display: inline-block;
            opacity: 0;
            margin-top: 20px;
        }

        .sorry-message {
            font-size: 24px;
            color: white;
            margin-left: 20px;
            display: inline-block;
            opacity: 0;
        }
    </style>
</head>
<body>

    <div id="lyrics">
        <!-- Lyrics will go here -->
    </div>

    <!-- Play button -->
    <button id="playButton">Start Song</button>

    <audio id="audio">
        <source src="blu-young-kai.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>

    <script>
        const lyrics = [
            { time: 122, text: "It's stuck with you forever" },  // 2:01
            { time: 125, text: "So promise you won't let it go" },  // 2:05
            { time: 128, text: "I'll trust the universe will always bring me to you" },  // 2:09
            { time: 137, text: "I'll imagine we fell in love" },  // 2:17
            { time: 140, text: "I'll nap under moonlight skies with you" },  // 2:20
            { time: 144, text: "I think I'll picture us, you with the waves" },  // 2:24
            { time: 148, text: "The ocean's colors on your face" },  // 2:28
            { time: 151, text: "I'll leave my heart with your air" },  // 2:33
            { time: 155, text: "So let me fly with you" },  // 2:38
            { time: 158, text: "Will you be forever with me" }  // 2:43
        ];

        const lyricsElement = document.getElementById("lyrics");
        const audioElement = document.getElementById("audio");
        const playButton = document.getElementById("playButton");

        let currentIndex = 0;

        // Function to update the lyrics with typing animation
        function updateLyrics() {
            const currentTime = audioElement.currentTime;

            if (currentIndex < lyrics.length && currentTime >= lyrics[currentIndex].time) {
                const lyricText = lyrics[currentIndex].text;
                createTypedLyric(lyricText); // Call function to type the lyric out

                currentIndex++;
            }

            // Once the last lyric is displayed, show heart and "sorry..." immediately
            if (currentIndex === lyrics.length) {
                displayHeartAndMessage();
            }
        }

        // Function to create the typing animation for lyrics
        function createTypedLyric(text) {
            const lyricElement = document.createElement("div");
            lyricElement.classList.add("highlight");
            lyricsElement.appendChild(lyricElement);  // Add empty lyric div to the page

            let currentCharIndex = 0;
            const typingInterval = setInterval(() => {
                lyricElement.textContent = text.slice(0, currentCharIndex + 1);
                currentCharIndex++;

                // Stop the typing animation when all characters are typed
                if (currentCharIndex === text.length) {
                    clearInterval(typingInterval);
                }
            }, 90);  // Adjust typing speed (in milliseconds) here
        }

        // Listen for audio updates
        audioElement.addEventListener("timeupdate", updateLyrics);

        // Start song when the user clicks the button
        playButton.addEventListener("click", function() {
            audioElement.currentTime = 121;  // Start at 2:01 (121 seconds)
            audioElement.play();             // Play the song
            playButton.style.display = "none";  // Hide the button after clicking
        });

        // Function to create the heart shape text and animate it
        function displayHeartAndMessage() {
            const heartText = `       

             ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣾⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣤⠶⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣾⠉⢻⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡾⠉⠀⢻⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⠏⡠⡀⠹⣶⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⠟⠀⠄⡀⠈⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡿⠆⡇⠰⠀⠈⠻⠦⠶⠶⠶⠶⠾⠶⠞⠋⠀⡌⠀⡇⠀⣿⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡾⠃⠀⠂⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠁⠁⠀⢻⣅⠀⠀⠀⠀⠀⠀⠀⢀⠀⠀⣠⣀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣼⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢿⣂⠀⠀⠀⠀⠀⠀⡿⣝⣺⣯⡏⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⣏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣏⡀⠀⠀⠀⠀⠀⠘⠫⣷⠟⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣶⠄⠀⠀⠀⠀⠀⣯⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡆⣀⡀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⡧⠀⠀⠀⠀⠀⠀⠀⢠⣶⡄⠀⠀⠀⠀⠀⠀⠘⠛⠀⠀⠀⠀⠀⠀⣿⡀⠀⠀⠀⠠⠼⡦⠄⠀⠀⠋⢿⠉⠀
⠀⣨⣧⠄⠀⠀⠀⠀⠀⠘⣿⠀⠀⠀⠀⠀⠀⠀⠈⠛⠀⠀⠀⠀⠀⠀⠀⠀⠠⠐⠀⠂⠠⠀⢠⠟⠁⠀⠀⠀⠀⠀⠃⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠘⠂⠀⠀⠀⠀⠀⠀⠹⣧⣄⠀⠀⡒⠉⠉⠈⡃⠀⢰⣆⢠⣶⣄⣼⠀⠐⠠⠀⠒⢁⣴⠟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⢠⣄⣿⡆⠀⠀⠀⠀⠀⠘⢿⣇⠀⠈⠀⠂⠐⠁⠀⠀⠛⠛⠁⠈⠀⠀⣀⣤⡴⣷⡛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠘⢞⣷⠃⠀⠀⠀⠀⠀⠀⠀⠙⢿⡷⠴⢴⡤⢦⠤⡤⠤⠤⠶⠶⠚⠛⠉⠀⠀⢨⣿⣦⣀⢀⣠⣤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⡀⡀⠀⠀⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣷⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡴⠴⢖⡶⡿⡈⡹⡑⢢⠌⣪⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢻⡉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢈⡿⠀⠀⠀⠀⠀⠀⠀⠀⠐⢼⣦⣷⠱⢌⡒⡌⡝⣜⠣⣑⠅⠎⠇⣳⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⣾⠛⠻⢷⣤⠀⠀⠀⠀⠀⣿⠀⠀⠀⠀⠀⠘⢷⣄⠀⠀⠉⣿⡐⠢⡔⡘⡡⢇⡡⢅⢡⡙⣬⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⢹⣆⡀⠀⢻⣧⠀⠀⠀⠀⢿⡄⠀⠀⠀⠀⠀⠀⠙⠻⣶⣤⡿⠙⢧⣆⠵⡁⠦⠇⡪⢠⣜⡟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠙⢿⣦⠀⠹⢾⣀⡀⠀⢹⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠳⡾⣅⡎⢆⣇⡞⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠹⣷⠀⠀⠉⠛⠛⢾⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⡇⠛⠻⠞⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⠛⢲⣶⣶⣤⣼⡗⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠀⠀⢸⡧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⣿⠀⠀⠀⠀⠀⠀⠀⠀⣀⣠⡴⢾⣿⠀⠀⢸⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⠄⠀⠀⠀⣤⠶⠓⠋⠉⠁⠀⢈⣿⠀⠀⢼⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢿⡆⠀⠀⠸⣿⠁⠀⠀⠀⠀⠀⠨⢿⣀⣀⡿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⢷⣄⣀⣰⠟⠀⠀⠀⠀⠀⠀⠀⠈⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
`;  // Corrected heart text formatting (removed center line)
        
            // Ensure the heart is only displayed once after the last lyric
            if (!document.querySelector('.heart')) {  // Check if the heart is already added
                const heart = document.createElement("div");
                heart.classList.add("heart");
                heart.textContent = heartText;  // The heart shape as text
                lyricsElement.appendChild(heart);  // Add heart to the page

                const sorryMessage = document.createElement("div");
                sorryMessage.classList.add("sorry-message");
                sorryMessage.textContent = "  sorry...";  // The 'sorry' message
                lyricsElement.appendChild(sorryMessage);  // Add sorry message

                // Animate the heart and message
                let heartIndex = 0;
                let messageIndex = 0;

                // Heart typing animation
                const heartInterval = setInterval(() => {
                    heart.textContent = heartText.slice(0, heartIndex + 1);
                    heartIndex++;
                    if (heartIndex === heartText.length) clearInterval(heartInterval);
                }, 10);  // Slightly faster typing effect for heart

                // Sorry message typing animation
                const messageInterval = setInterval(() => {
                    sorryMessage.textContent = " sorry...".slice(0, messageIndex + 1);
                    messageIndex++;
                    if (messageIndex === " sorry...".length) clearInterval(messageInterval);
                }, 300);  // Slow typing effect for the "sorry..." message

                // Fade in the heart and message after typing
                setTimeout(() => {
                    heart.style.opacity = 1;
                    sorryMessage.style.opacity = 1;
                }, 100);  // Immediately show heart after the last lyric
            }
        }

        window.onload = function() {
            setTimeout(() => {
                const commandLineMessage = 'Starting song lyrics sync...';
                const commandLineElement = document.createElement('div');
                commandLineElement.textContent = `> ${commandLineMessage}`;
                lyricsElement.appendChild(commandLineElement);  // Show initial message
            }, 1000);
        };
    </script>

</body>
</html>
